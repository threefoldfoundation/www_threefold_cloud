<!DOCTYPE html>
<html ${htmlAttrs}>

<head>
    ${head}
    <script type="text/javascript">window.$crisp=[];window.CRISP_WEBSITE_ID="1a5a5241-91cb-4a41-8323-5ba5ec574da0";(function(){d=document;s=d.createElement("script");s.src="https://client.crisp.chat/l.js";s.async=1;d.getElementsByTagName("head")[0].appendChild(s);})();</script>
    <!-- Matomo -->
<script type="text/javascript">
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="//matomo.freeflowpages.com/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '1']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>
  <!-- End Matomo Code -->
</head>

<body ${bodyAttrs}>

    <script>
        // Add dark / light detection that runs before Vue.js load. Borrowed from overreacted.io
        // for this starter, i used the code from gridsome.org
        (function() {
            window.__onThemeChange = function() {};

            function setTheme(newTheme) {

                window.__theme = newTheme;
                preferredTheme = newTheme;
                document.body.setAttribute('data-theme', newTheme);

                window.__onThemeChange(newTheme);
            }

            var preferredTheme;
            try {
                preferredTheme = localStorage.getItem('theme');
            } catch (err) {}

            window.__setPreferredTheme = function(newTheme) {
                setTheme(newTheme);
                try {
                    localStorage.setItem('theme', newTheme);
                } catch (err) {}
            }

            var darkQuery = window.matchMedia('(prefers-color-scheme: dark)');

            darkQuery.addListener(function(e) {
                window.__setPreferredTheme(e.matches ? 'dark' : 'light');
            });

            setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'));
        })();
    </script>

    ${app} ${scripts}
</body>

</html>